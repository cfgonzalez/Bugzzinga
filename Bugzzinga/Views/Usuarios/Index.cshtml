@{
    ViewBag.Title = "Index";
    Layout = "~/Views/Shared/_Layout.cshtml";
}

<h2>Administración de Usuarios</h2>

<div class="row-fluid" ng-controller="usuarioCtrl">
<div class="span12">
    <table class="table table-hover table-bordered table-striped">
        <thead>
            <tr>
                <th class="span3 "></th>
                <th class="span3 ">Código</th>
                <th class="span3 ">Nombre</th>
                <th class="span3 ">Apellido</th>
            </tr>
        </thead>
        <tbody>
            <tr ng-repeat="usuario in usuarios" class="info">
                <td class="span3 info">
                    <input type="radio"
                           ng-model="$parent.codigoUsuarioSeleccionado"
                           value="{{usuario.Codigo}}"
                           name="radioCodigoUsuario">
                </td>
                <td class="span3 info">{{usuario.Codigo}}</td>
                <td class="span3 info">{{usuario.Nombre}}</td>
                <td class="span3 info">{{usuario.Apellido}}</td>
            </tr>
        </tbody>
    </table>
    <div class="row-fluid" ng-show="codigoUsuarioSeleccionado == 0">
        <span class="span12">Seleccione un usuario</span>
    </div>
</div>

<div ng-controller="usuarioModalCtrl">
    <script type="text/ng-template" id="usuarioModal.html">
        
        <div class="modal-header">
            <h3>Usuario</h3>
        </div>
        <div class="modal-body">
            <div class="row-fluid">
                <div class="span6">
                    Código:
                </div>
                <div class="span6">        
                    {{ usuarioSeleccionado.Codigo }}
                </div>
            </div>
            <div class="row-fluid">
                <div class="span6">
                    Nombre:
                </div>
                <div class="span6">
                    <input type='text' ng-model='usuarioSeleccionado.Nombre' />
                </div>
            </div>
            <div class="row-fluid">
                <div class="span6">
                    Apellido:
                </div>
                <div class="span6">
                    <input type='text' ng-model='usuarioSeleccionado.Apellido' />
                </div>
            </div>
        </div>
        <div class="modal-footer">
            <button class="btn btn-primary" ng-click="ok()">Aceptar</button>
            <button class="btn btn-warning" ng-click="cancel()">Cancelar</button>
        </div>
    
    </script>
    <button class="btn btn-primary" ng-disabled="codigoUsuarioSeleccionado == 0" ng-click="open()">Editar</button>
</div>
</div>    
 